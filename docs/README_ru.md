**Библиотека acRF24 для se8r01 и nRF24L01 + для работы с arduino и ATtiny84/85**

Поскольку я не нашел библиотеку, которая бы соответствовала моим потребностям, я разработал ту, которую я здесь представляю.
* Содержит настройки для использования с **nRF24L01+** (в версии 0.0.3 не полностью протестировано).
* На основе руководств:
[SE8R01 specification version 1.6 2014-03-05](http://community.atmel.com/sites/default/files/forum_attachments/SE8R01_DataSheet_v1%20-%20副本.pdf)
 и [nRF24L01P Product Specification 1.0](https://www.nordicsemi.com/eng/content/download/2726/34069/file/nRF24L01P_Product_Specification_1_0.pdf).
* Разработка была сосредоточена на интерфейсе высокого уровня.
* Методы низкоуровневого доступа к чипу зарезервированы.
* Содержит проприетарный, адаптивный SPI с подавленными соединениями для использования в ATtiny85.
* Методы, разработанные для использования автоматизма, уже содержащегося в чипе.
* Разработка с целью совместимости чипов.
* Доступно до 254 радиостанций.

политика
------------
  Компиляция активна для чипа **SE8R01** с директивой `__SE8R01__`.
  
  В случае компиляции в **nRF24L01+** используйте директиву `__nRF24L01P__`.

  Перейдите в начало файла `acRF24directives.h` и измените комментарий по своему усмотрению.

```
/************************************************************/
/*           Comment out the unused directive.              */
/*                                                          */
#define __SE8R01__       // <- Comment if you do not use
// #define __nRF24L01P__    // <- Comment if you do not use
/*                                                          */
/************************************************************/
```


`sourceID()`
------------
  Режим вентилятора использует первый байт полезной нагрузки для идентификации радиостанции, с которой отправляется сообщение. Поэтому максимальный размер данных равен 31. Процесс является внутренним и возможен доступ к информации о том, какая радиоприемка отправляет сообщение при вызове `sourceID ()`.
  
  Этот метод облегчает использование радиостанций до *254*:    
  – Radio ID 0 указывает на отсутствие радио и игнорируется;    
  – Radio ID 255 указывает заголовок, будет проигнорирован.    
  Количество: 256 - (нейтральный + заголовок) = *254*.
  
  Для многих радиостанций существует выразительное использование памяти, поэтому была выбрана базовая конфигурация из 12 радиостанций. Если существует потребность в большем количестве, измените его на `acRF24directives.h`:

```
/************************************************************/
/*      Number of radios (Change to desired quantity).      */
/*                                                          */
#define RADIO_AMOUNT        12
/*                                                          */
/************************************************************/
```

  Замените 12 желаемой величиной. Соблюдайте предел *254*.


`watchTX()`
------------
  Когда радиоприемник падает в течение длительного периода времени, *ACK* не возвращается, в результате чего передатчик становится неработоспособным.

  `watchTX()` устанавливает время в миллисекундах, что передатчик будет ожидать ответ *ACK*, в то время как ожидание называется `reuseTXpayload()`, после этого вызывается `flushTX()` и, таким образом, передается передатчик для работы с другими радио.


`enableFanOut()`
------------
  Вызовите `enableFanOut(true)`, чтобы включить возможность получения идентификации радиостанции, отправляющей сообщение. Эта активация должна распространяться на радиоприемники, которые начнутся.


ATTiny
------------
Core для ATtiny, используемого в этой разработке:

  [David A. Mellis](https://github.com/damellis/attiny)    
  URL установки:    
  'https://raw.githubusercontent.com/damellis/attiny/ide-1.6.x-boards-manager/package_damellis_attiny_index.json'

  и

   [Spence Konde (aka Dr. Azzy)](https://github.com/SpenceKonde/ATTinyCore)    
   URL установки:    
   'http://drazzy.com/package_drazzy.com_index.json'

   Выберите соответствующий файл **json**, скопируйте URL-адрес и включите его в:

   _Настройки ... -> Дополнительные URL-адреса для управления картой:_

   Примечание:
   - _Spence Konde_ более полная работа.
   - _David A. Mellis_ использует меньше ресурсов.

Задержка CSn, и схематично
------------
```  
  #define T_PECSN2OFF     220 // Емкость в pF, время в миллисекундах.
                              // Выбранное внешнее сопротивление      : 2200Ω
                              // Конденсатор, выбранный по умолчанию  : 100nF
                              // 2.2kΩ x 0.0000001uF = 0.00022s -> 220US в режиме ожидания.
```
  Obs.:
  * При изменении значения резистора установите значение директивы T_PECSN2OFF
    на acRF24direcrives.h. Без этой настройки система может не работать или
    работать со слабостью.
  * Не предполагается изменять значение конденсатора, настройка регулируется только
    сменой резистора. Если это значение изменено, также учитывайте необходимость
    настройки T\_PECSN2ON. Значения менее 5 для T_PECSN2ON вызывают несогласованность
    или неработоспособность в системе. Сообщите результат.
  * Резистор с очень низким значением мешает загрузке исходного кода.
  * Значение 1 кОм было проверено и хорошо работало. Однако необходимо подключить его только после загрузки исходного кода в режиме сброса последовательности.
  * Используйте германиевый диод, который дает падение напряжения на 0,2 В. Силиконовый диод Минимальное значение напряжения составляет 0,6 В, которое требуется для чипа 0,3 В.
```  
                                                           //
                               +----|<|----x--[2k2]--x----|<|---- 5V 
                               |    1n60   |         |    LED
                               |           |         |   (red)
                               |  +---||---x         |          +-----+
                +-\/-+         |  |  100nF |         |--- CE   3| R R |
    RESET PB5  1|o   |8  Vcc --|--|--------|---------x--- VCC  2| S F |
    NC    PB3  2|    |7  PB2 --x--|--------|------------- SCK  5| E 2 |
    NC    PB4  3|    |6  PB1 -----|--------|------------- MISO 6| 8 4 |
       +- GND  4|    |5  PB0 -----|--------|------------- MOSI 7| R L |
       |        +----+            |        +------------- CSN  4| 0 0 |
       +--------------------------x---------------------- GND  1| 1 1 |
                                                                +-----+
```


Clock
------------
  Библиотека предоставляет автоматический метод настройки clock чипа.


Помогите!
------------
  Из-за отсутствия разработки файла справки, пожалуйста, проанализируйте образцы файлов. Адаптируйте то же самое к потребностям проекта.


тест
------------
  Разработка тестов проводилась между *Arduino UNO* и *ATTiny85*.
  
  Первоначально примеры будут основаны на этой конфигурации.


Помогите мне
------------
  Из-за ограниченного времени, доступного для разработки, я представляю этот проект так, как вы его видите. Извините, но до сих пор я мог развиваться.
  
  Насколько это возможно, в зависимости от доступного времени, я переведу.
  
  Комментарии и предложения помогут улучшить проект. Добро пожаловать.


спасибо
------------
  **Слава Богу.**
  
------------

